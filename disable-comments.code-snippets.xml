<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a code snippets export file generated by the Code Snippets WordPress plugin. -->
<!-- https://wordpress.org/plugins/code-snippets -->
<!-- To import these snippets a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Install the Code Snippets plugin using the directions provided at the above link. -->
<!-- 3. Go to 'Tools: Import' in the WordPress admin panel. -->
<!-- 4. Click on the "Code Snippets" importer in the list -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. Code Snippets will then import all of the snippets and associated information contained in this file into your site. -->
<!-- 7. You will then have to visit the 'Snippets: All Snippets' admin menu and activate desired snippets. -->
<!-- generator="Code Snippets/2.8.6" created="2017-07-07 20:07" -->
<snippets>
  <snippet scope="0">
    <name>Disable Comments</name>
    <desc></desc>
    <tags>disable, comments</tags>
    <code>// Disable support for comments and trackbacks in post types&#13;
function df_disable_comments_post_types_support() {&#13;
    $post_types = get_post_types();&#13;
    foreach ($post_types as $post_type) {&#13;
        if(post_type_supports($post_type, 'comments')) {&#13;
            remove_post_type_support($post_type, 'comments');&#13;
            remove_post_type_support($post_type, 'trackbacks');&#13;
        }&#13;
    }&#13;
}&#13;
add_action('admin_init', 'df_disable_comments_post_types_support');&#13;
&#13;
// Close comments on the front-end&#13;
function df_disable_comments_status() {&#13;
    return false;&#13;
}&#13;
add_filter('comments_open', 'df_disable_comments_status', 20, 2);&#13;
add_filter('pings_open', 'df_disable_comments_status', 20, 2);&#13;
&#13;
// Hide existing comments&#13;
function df_disable_comments_hide_existing_comments($comments) {&#13;
    $comments = array();&#13;
    return $comments;&#13;
}&#13;
add_filter('comments_array', 'df_disable_comments_hide_existing_comments', 10, 2);&#13;
&#13;
// Remove comments page in menu&#13;
function df_disable_comments_admin_menu() {&#13;
    remove_menu_page('edit-comments.php');&#13;
}&#13;
add_action('admin_menu', 'df_disable_comments_admin_menu');&#13;
&#13;
// Redirect any user trying to access comments page&#13;
function df_disable_comments_admin_menu_redirect() {&#13;
    global $pagenow;&#13;
    if ($pagenow === 'edit-comments.php') {&#13;
        wp_redirect(admin_url()); exit;&#13;
    }&#13;
}&#13;
add_action('admin_init', 'df_disable_comments_admin_menu_redirect');&#13;
&#13;
// Remove comments metabox from dashboard&#13;
function df_disable_comments_dashboard() {&#13;
    remove_meta_box('dashboard_recent_comments', 'dashboard', 'normal');&#13;
}&#13;
add_action('admin_init', 'df_disable_comments_dashboard');&#13;
&#13;
// Remove comments links from admin bar&#13;
function df_disable_comments_admin_bar() {&#13;
    if (is_admin_bar_showing()) {&#13;
        remove_action('admin_bar_menu', 'wp_admin_bar_comments_menu', 60);&#13;
    }&#13;
}&#13;
add_action('init', 'df_disable_comments_admin_bar');</code>
  </snippet>
</snippets>
